import{d as g,o as h,c as n,a as e,r as u,e as r,F as m,f as _,h as y,p as S,t as a,i as w,j as k,u as L,R as b,k as o,_ as R}from"./index-D4N1nedD.js";const V={class:"scans-page"},x={key:0,class:"loading"},D={key:1,class:"empty-state"},C={key:2,class:"section"},N={class:"data-table"},j=g({__name:"ScansView",setup(A){const i=u([]),d=u(!0),c=u(1),p=u(0);async function v(){d.value=!0;try{const l=await y.listScans({page:c.value,pageSize:20});i.value=l.data.scans,p.value=l.data.total}catch(l){console.error("Failed to fetch scans",l)}finally{d.value=!1}}function f(l){switch(l){case"complete":return"status-success";case"scanning":return"status-warning";case"failed":return"status-error";default:return"status-pending"}}return h(v),(l,t)=>(o(),n("div",V,[t[4]||(t[4]=e("header",{class:"page-header"},[e("h1",null,"Scans"),e("p",{class:"subtitle"},"View all license scans across projects")],-1)),d.value?(o(),n("div",x,[...t[0]||(t[0]=[e("i",{class:"pi pi-spin pi-spinner"},null,-1),r(" Loading scans... ",-1)])])):i.value.length===0?(o(),n("div",D,[...t[1]||(t[1]=[e("i",{class:"pi pi-search"},null,-1),e("h3",null,"No scans yet",-1),e("p",null,"Go to a project and run your first scan.",-1)])])):(o(),n("div",C,[e("table",N,[t[3]||(t[3]=e("thead",null,[e("tr",null,[e("th",null,"Status"),e("th",null,"Dependencies"),e("th",null,"Resolved"),e("th",null,"Unresolved"),e("th",null,"AI Resolved"),e("th",null,"SPDX Resolved"),e("th",null,"Completed"),e("th")])],-1)),e("tbody",null,[(o(!0),n(m,null,_(i.value,s=>(o(),n("tr",{key:s.id},[e("td",null,[e("span",{class:S(["status-badge",f(s.status)])},a(s.status),3)]),e("td",null,a(s.totalDependencies),1),e("td",null,a(s.resolvedLicenses),1),e("td",null,a(s.unresolvedLicenses),1),e("td",null,a(s.aiResolvedLicenses),1),e("td",null,a(s.spdxResolvedLicenses||0),1),e("td",null,a(s.completedAt?new Date(s.completedAt).toLocaleString():"-"),1),e("td",null,[w(L(b),{to:`/scans/${s.id}`,class:"btn btn-small"},{default:k(()=>[...t[2]||(t[2]=[r(" View Details ",-1)])]),_:1},8,["to"])])]))),128))])])]))]))}}),F=R(j,[["__scopeId","data-v-7094e2e7"]]);export{F as default};
