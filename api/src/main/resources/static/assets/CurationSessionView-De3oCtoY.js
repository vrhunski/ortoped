import{d as Ce,l as ke,m as Ie,o as Ee,c as v,b as y,i as n,r as m,a as s,e as _,F as we,j as b,u as a,R as ie,t as o,x as P,q as Y,A as De,s as Ae,h as E,p as G,k as u,_ as Se}from"./index-DW55_gOa.js";import{s as $,a as g,b as J,e as z,c as xe,d as A}from"./column.esm-DZ9Ak5gf.js";import{s as W}from"./textarea.esm-3NmTSs_M.js";import{s as X}from"./dialog.esm-D4FcJHrm.js";import{s as Pe}from"./progressbar.esm-5rhAYWF4.js";const Ve={class:"curation-session"},_e={key:0,class:"loading"},Le={class:"page-header"},he={class:"breadcrumb"},Re={class:"session-meta"},Ne={class:"header-actions"},Fe={class:"progress-banner"},Oe={class:"progress-info"},Me={class:"progress-text"},Te={class:"progress-bar-container"},$e={class:"stats-row"},Ue={class:"stat accepted"},Ge={class:"value"},je={class:"stat rejected"},Be={class:"value"},He={class:"stat modified"},Ye={class:"value"},Je={class:"stat pending"},ze={class:"value"},We={key:0,class:"approval-banner"},Xe={key:0,class:"comment"},qe={class:"toolbar"},Ke={class:"filters"},Qe={key:0,class:"bulk-actions"},Ze={key:0,class:"selected-count"},es={class:"section"},ss={class:"dependency-cell"},ls={class:"version"},ts={class:"scope"},is={class:"license-badge original"},as={key:0,class:"ai-suggestion"},ns={class:"suggested-license"},os={key:1,class:"no-suggestion"},us={key:0,class:"spdx-suggestion"},ds={class:"suggested-license"},rs={key:1,class:"no-suggestion"},cs={key:0,class:"license-badge curated"},vs={key:1,class:"license-badge accepted"},ps={key:2,class:"no-license"},ys={key:0,class:"action-buttons"},ms={key:0,class:"item-detail"},gs={class:"detail-section"},fs={class:"info-grid"},bs={class:"info-item"},Cs={class:"info-item"},ks={class:"info-item"},Is={class:"info-item"},Es={class:"detail-section"},ws={class:"license-comparison"},Ds={class:"license-box original"},As={class:"license-box suggested"},Ss={class:"license-box spdx"},xs={key:0,class:"reasoning-box"},Ps={key:1,class:"spdx-info-box"},Vs={class:"spdx-details"},_s={key:0},Ls={key:1},hs={key:0,class:"detail-section"},Rs={class:"decision-form"},Ns={class:"action-selector"},Fs={key:0,class:"field"},Os={class:"field"},Ms={key:1,class:"detail-section"},Ts={class:"decision-summary"},$s={key:0},Us={key:1},Gs={key:2,class:"comment"},js={class:"bulk-action-content"},Bs={class:"action-selector"},Hs={class:"field"},Ys={class:"approve-content"},Js={class:"approval-summary"},zs={class:"summary-item"},Ws={class:"value"},Xs={class:"summary-item accepted"},qs={class:"value"},Ks={class:"summary-item rejected"},Qs={class:"value"},Zs={class:"summary-item modified"},el={class:"value"},sl={class:"field"},ll={class:"field"},tl=Ce({__name:"CurationSessionView",setup(il){const ae=Ae(),ne=De(),I=ke(),t=m(null),S=m([]),C=m([]),j=m(!0),oe=m(0),L=m(null),h=m(null),R=m(null),N=m(""),F=m(!1),O=m(!1),M=m(!1),d=m(null),w=m(!1),T=m(""),B=m(""),p=m("ACCEPT"),U=m(""),x=m(""),ue=[{label:"All Statuses",value:null},{label:"Pending",value:"PENDING"},{label:"Accepted",value:"ACCEPTED"},{label:"Rejected",value:"REJECTED"},{label:"Modified",value:"MODIFIED"}],de=[{label:"All Priorities",value:null},{label:"High",value:"HIGH"},{label:"Medium",value:"MEDIUM"},{label:"Low",value:"LOW"}],re=[{label:"All Confidence",value:null},{label:"High",value:"HIGH"},{label:"Medium",value:"MEDIUM"},{label:"Low",value:"LOW"}],ce=Y(()=>!t.value||t.value.statistics.total===0?100:Math.round((t.value.statistics.total-t.value.statistics.pending)/t.value.statistics.total*100)),q=Y(()=>{let i=[...S.value];if(L.value&&(i=i.filter(c=>c.status===L.value)),h.value&&(i=i.filter(c=>{var l;return((l=c.priority)==null?void 0:l.level)===h.value})),R.value&&(i=i.filter(c=>{var l;return((l=c.aiSuggestion)==null?void 0:l.confidence)===R.value})),N.value){const c=N.value.toLowerCase();i=i.filter(l=>{var r,f,k;return l.dependencyName.toLowerCase().includes(c)||((f=(r=l.aiSuggestion)==null?void 0:r.suggestedLicense)==null?void 0:f.toLowerCase().includes(c))||((k=l.originalConcludedLicense)==null?void 0:k.toLowerCase().includes(c))})}const e={HIGH:0,MEDIUM:1,LOW:2};return i.sort((c,l)=>{var k,D;if(c.status==="PENDING"&&l.status!=="PENDING")return-1;if(l.status==="PENDING"&&c.status!=="PENDING")return 1;const r=((k=c.priority)==null?void 0:k.level)||"LOW",f=((D=l.priority)==null?void 0:D.level)||"LOW";return(e[r]||2)-(e[f]||2)}),i}),ve=Y(()=>{var i,e;return((i=t.value)==null?void 0:i.status)!=="APPROVED"&&((e=t.value)==null?void 0:e.statistics.pending)===0});async function K(){j.value=!0;try{const i=ae.params.id,e=await E.getCurationSessionByScan(i);t.value=e.data;const c=await E.listCurationItems(t.value.scanId,{pageSize:500});S.value=c.data.items,oe.value=c.data.total}catch(i){console.error("Failed to fetch curation data",i),I.add({severity:"error",summary:"Error",detail:"Failed to load curation session",life:3e3})}finally{j.value=!1}}function Q(i){var e;d.value=i,p.value=i.status==="PENDING"?"ACCEPT":i.status,U.value=i.curatedLicense||((e=i.aiSuggestion)==null?void 0:e.suggestedLicense)||"",x.value=i.curatorComment||"",F.value=!0}async function pe(){if(!(!d.value||!t.value)){w.value=!0;try{const i={action:p.value,curatedLicense:p.value==="MODIFY"?U.value:void 0,comment:x.value||void 0,curatorId:"curator"},e=await E.submitCurationDecision(t.value.scanId,d.value.dependencyId,i),c=S.value.findIndex(r=>r.id===d.value.id);c!==-1&&(S.value[c]=e.data);const l=await E.getCurationSession(t.value.scanId);t.value=l.data,F.value=!1,I.add({severity:"success",summary:"Success",detail:"Decision saved",life:2e3})}catch(i){console.error("Failed to submit decision",i),I.add({severity:"error",summary:"Error",detail:"Failed to save decision",life:3e3})}finally{w.value=!1}}}function ye(){if(C.value.length===0){I.add({severity:"warn",summary:"Warning",detail:"Select items first",life:2e3});return}p.value="ACCEPT",x.value="",O.value=!0}async function me(){if(!(C.value.length===0||!t.value)){w.value=!0;try{const i=C.value.map(c=>c.dependencyId),e={action:p.value,comment:x.value||void 0,curatorId:"curator"};await E.bulkCurationDecision(t.value.scanId,i,e),await K(),C.value=[],O.value=!1,I.add({severity:"success",summary:"Success",detail:`Updated ${i.length} items`,life:2e3})}catch(i){console.error("Failed to submit bulk decision",i),I.add({severity:"error",summary:"Error",detail:"Failed to update items",life:3e3})}finally{w.value=!1}}}async function ge(){if(!(!t.value||!T.value)){w.value=!0;try{const i=await E.approveCurationSession(t.value.scanId,T.value,B.value||void 0);t.value=i.data,M.value=!1,I.add({severity:"success",summary:"Approved",detail:"Curation session approved",life:3e3})}catch(i){console.error("Failed to approve session",i),I.add({severity:"error",summary:"Error",detail:"Failed to approve session",life:3e3})}finally{w.value=!1}}}async function fe(i){if(t.value)try{const e=await E.submitCurationDecision(t.value.scanId,i.dependencyId,{action:"ACCEPT",curatorId:"curator"}),c=S.value.findIndex(r=>r.id===i.id);c!==-1&&(S.value[c]=e.data);const l=await E.getCurationSession(t.value.scanId);t.value=l.data}catch(e){console.error("Failed to accept",e),I.add({severity:"error",summary:"Error",detail:"Failed to accept",life:2e3})}}async function be(i){if(t.value)try{const e=await E.submitCurationDecision(t.value.scanId,i.dependencyId,{action:"REJECT",curatorId:"curator"}),c=S.value.findIndex(r=>r.id===i.id);c!==-1&&(S.value[c]=e.data);const l=await E.getCurationSession(t.value.scanId);t.value=l.data}catch(e){console.error("Failed to reject",e),I.add({severity:"error",summary:"Error",detail:"Failed to reject",life:2e3})}}function H(i){switch(i){case"ACCEPTED":return"success";case"REJECTED":return"danger";case"MODIFIED":return"info";case"PENDING":return"warning";default:return"secondary"}}function Z(i){switch(i){case"CRITICAL":return"danger";case"HIGH":return"warning";case"MEDIUM":return"info";default:return"info"}}function ee(i){switch(i){case"HIGH":return"confidence-high";case"MEDIUM":return"confidence-medium";default:return"confidence-low"}}function se(i){return i?"spdx-valid":"spdx-invalid"}return Ie([L,h,R,N],()=>{C.value=[]}),Ee(K),(i,e)=>{var c;return u(),v("div",Ve,[j.value?(u(),v("div",_e,[...e[23]||(e[23]=[s("i",{class:"pi pi-spin pi-spinner"},null,-1),_(" Loading curation session... ",-1)])])):t.value?(u(),v(we,{key:1},[s("header",Le,[s("div",null,[s("div",he,[n(a(ie),{to:"/curations"},{default:b(()=>[...e[24]||(e[24]=[_("Curations",-1)])]),_:1}),e[25]||(e[25]=s("i",{class:"pi pi-angle-right"},null,-1)),e[26]||(e[26]=s("span",null,"Session Details",-1))]),e[28]||(e[28]=s("h1",null,"Curation Session",-1)),s("div",Re,[n(a($),{value:t.value.status,severity:H(t.value.status)},null,8,["value","severity"]),s("span",null,"Created: "+o(new Date(t.value.createdAt).toLocaleString()),1),n(a(ie),{to:`/scans/${t.value.scanId}`,class:"scan-link"},{default:b(()=>[...e[27]||(e[27]=[s("i",{class:"pi pi-external-link"},null,-1),_(" View Scan ",-1)])]),_:1},8,["to"])])]),s("div",Ne,[ve.value?(u(),P(a(g),{key:0,label:"Approve Session",icon:"pi pi-check",severity:"success",onClick:e[0]||(e[0]=l=>M.value=!0)})):y("",!0),t.value.status==="APPROVED"?(u(),P(a(g),{key:1,label:"Download Report",icon:"pi pi-download",severity:"secondary",onClick:e[1]||(e[1]=l=>a(ne).push(`/scans/${t.value.scanId}`))})):y("",!0)])]),s("div",Fe,[s("div",Oe,[e[29]||(e[29]=s("h3",null,"Progress",-1)),s("span",Me,o(t.value.statistics.total-t.value.statistics.pending)+" of "+o(t.value.statistics.total)+" items reviewed ",1)]),s("div",Te,[n(a(Pe),{value:ce.value,style:{height:"12px"}},null,8,["value"])]),s("div",$e,[s("div",Ue,[e[30]||(e[30]=s("i",{class:"pi pi-check"},null,-1)),s("span",Ge,o(t.value.statistics.accepted),1),e[31]||(e[31]=s("span",{class:"label"},"Accepted",-1))]),s("div",je,[e[32]||(e[32]=s("i",{class:"pi pi-times"},null,-1)),s("span",Be,o(t.value.statistics.rejected),1),e[33]||(e[33]=s("span",{class:"label"},"Rejected",-1))]),s("div",He,[e[34]||(e[34]=s("i",{class:"pi pi-pencil"},null,-1)),s("span",Ye,o(t.value.statistics.modified),1),e[35]||(e[35]=s("span",{class:"label"},"Modified",-1))]),s("div",Je,[e[36]||(e[36]=s("i",{class:"pi pi-clock"},null,-1)),s("span",ze,o(t.value.statistics.pending),1),e[37]||(e[37]=s("span",{class:"label"},"Pending",-1))])])]),t.value.status==="APPROVED"&&t.value.approval?(u(),v("div",We,[e[39]||(e[39]=s("i",{class:"pi pi-check-circle"},null,-1)),s("div",null,[e[38]||(e[38]=s("strong",null,"Session Approved",-1)),s("p",null,"Approved by "+o(t.value.approval.approvedBy)+" on "+o(new Date(t.value.approval.approvedAt).toLocaleString()),1),t.value.approval.comment?(u(),v("p",Xe,o(t.value.approval.comment),1)):y("",!0)])])):y("",!0),s("div",qe,[s("div",Ke,[n(a(J),{modelValue:L.value,"onUpdate:modelValue":e[2]||(e[2]=l=>L.value=l),options:ue,optionLabel:"label",optionValue:"value",placeholder:"Status",class:"filter-dropdown"},null,8,["modelValue"]),n(a(J),{modelValue:h.value,"onUpdate:modelValue":e[3]||(e[3]=l=>h.value=l),options:de,optionLabel:"label",optionValue:"value",placeholder:"Priority",class:"filter-dropdown"},null,8,["modelValue"]),n(a(J),{modelValue:R.value,"onUpdate:modelValue":e[4]||(e[4]=l=>R.value=l),options:re,optionLabel:"label",optionValue:"value",placeholder:"Confidence",class:"filter-dropdown"},null,8,["modelValue"]),n(a(z),{modelValue:N.value,"onUpdate:modelValue":e[5]||(e[5]=l=>N.value=l),placeholder:"Search dependencies...",class:"search-input"},null,8,["modelValue"])]),t.value.status!=="APPROVED"?(u(),v("div",Qe,[C.value.length>0?(u(),v("span",Ze,o(C.value.length)+" selected ",1)):y("",!0),n(a(g),{label:"Bulk Action",icon:"pi pi-list",severity:"secondary",disabled:C.value.length===0,onClick:ye},null,8,["disabled"])])):y("",!0)]),s("div",es,[n(a(xe),{selection:C.value,"onUpdate:selection":e[6]||(e[6]=l=>C.value=l),value:q.value,stripedRows:"",showGridlines:"",class:"p-datatable-sm",paginator:q.value.length>20,rows:20,dataKey:"id",selectionMode:(t.value.status!=="APPROVED",void 0)},{default:b(()=>[t.value.status!=="APPROVED"?(u(),P(a(A),{key:0,selectionMode:"multiple",style:{width:"50px"}})):y("",!0),n(a(A),{field:"dependencyName",header:"Dependency",style:{"min-width":"250px"},sortable:""},{body:b(({data:l})=>[s("div",ss,[s("strong",null,o(l.dependencyName),1),s("span",ls,"@"+o(l.dependencyVersion),1),s("div",ts,o(l.scope),1)])]),_:1}),n(a(A),{header:"Original License",style:{width:"150px"}},{body:b(({data:l})=>[s("span",is,o(l.originalConcludedLicense||"Unknown"),1)]),_:1}),n(a(A),{header:"AI Suggestion",style:{"min-width":"200px"}},{body:b(({data:l})=>{var r;return[(r=l.aiSuggestion)!=null&&r.suggestedLicense?(u(),v("div",as,[s("span",ns,o(l.aiSuggestion.suggestedLicense),1),s("span",{class:G(["confidence",ee(l.aiSuggestion.confidence)])},o(l.aiSuggestion.confidence),3)])):(u(),v("span",os,"No AI suggestion"))]}),_:1}),n(a(A),{header:"SPDX Suggestion",style:{"min-width":"200px"}},{body:b(({data:l})=>{var r;return[(r=l.spdxSuggestion)!=null&&r.licenseId?(u(),v("div",us,[s("span",ds,o(l.spdxSuggestion.licenseId),1),s("span",{class:G(["spdx-badge",se(l.spdxValidated)])},o(l.spdxValidated?"✓ Valid":"⚠ Invalid"),3)])):(u(),v("span",rs,"No SPDX suggestion"))]}),_:1}),n(a(A),{field:"priority",header:"Priority",style:{width:"100px"},sortable:""},{body:b(({data:l})=>{var r,f;return[n(a($),{value:(r=l.priority)==null?void 0:r.level,severity:Z((f=l.priority)==null?void 0:f.level)},null,8,["value","severity"])]}),_:1}),n(a(A),{field:"status",header:"Status",style:{width:"110px"},sortable:""},{body:b(({data:l})=>[n(a($),{value:l.status,severity:H(l.status)},null,8,["value","severity"])]),_:1}),n(a(A),{header:"Final License",style:{width:"150px"}},{body:b(({data:l})=>{var r;return[l.curatedLicense?(u(),v("span",cs,o(l.curatedLicense),1)):l.status==="ACCEPTED"?(u(),v("span",vs,o((r=l.aiSuggestion)==null?void 0:r.suggestedLicense),1)):(u(),v("span",ps,"-"))]}),_:1}),n(a(A),{header:"Actions",style:{width:"150px"}},{body:b(({data:l})=>{var r;return[((r=t.value)==null?void 0:r.status)!=="APPROVED"?(u(),v("div",ys,[l.status==="PENDING"?(u(),P(a(g),{key:0,icon:"pi pi-check",severity:"success",text:"",rounded:"",size:"small",onClick:f=>fe(l),title:"Accept"},null,8,["onClick"])):y("",!0),l.status==="PENDING"?(u(),P(a(g),{key:1,icon:"pi pi-times",severity:"danger",text:"",rounded:"",size:"small",onClick:f=>be(l),title:"Reject"},null,8,["onClick"])):y("",!0),n(a(g),{icon:"pi pi-pencil",severity:"secondary",text:"",rounded:"",size:"small",onClick:f=>Q(l),title:"Edit"},null,8,["onClick"])])):(u(),P(a(g),{key:1,icon:"pi pi-eye",severity:"secondary",text:"",rounded:"",size:"small",onClick:f=>Q(l),title:"View"},null,8,["onClick"]))]}),_:1})]),_:1},8,["selection","value","paginator","selectionMode"])])],64)):y("",!0),n(a(X),{visible:F.value,"onUpdate:visible":e[13]||(e[13]=l=>F.value=l),header:((c=d.value)==null?void 0:c.dependencyName)||"Item Details",modal:!0,style:{width:"700px"}},{footer:b(()=>{var l;return[n(a(g),{label:"Cancel",severity:"secondary",onClick:e[12]||(e[12]=r=>F.value=!1)}),((l=t.value)==null?void 0:l.status)!=="APPROVED"?(u(),P(a(g),{key:0,label:"Save Decision",icon:"pi pi-check",onClick:pe,loading:w.value},null,8,["loading"])):y("",!0)]}),default:b(()=>{var l,r,f,k,D,le,te;return[d.value?(u(),v("div",ms,[s("div",gs,[e[44]||(e[44]=s("h4",null,"Dependency Information",-1)),s("div",fs,[s("div",bs,[e[40]||(e[40]=s("label",null,"Name",-1)),s("span",null,o(d.value.dependencyName),1)]),s("div",Cs,[e[41]||(e[41]=s("label",null,"Version",-1)),s("span",null,o(d.value.dependencyVersion),1)]),s("div",ks,[e[42]||(e[42]=s("label",null,"Scope",-1)),s("span",null,o(d.value.scope),1)]),s("div",Is,[e[43]||(e[43]=s("label",null,"Priority",-1)),n(a($),{value:(l=d.value.priority)==null?void 0:l.level,severity:Z((r=d.value.priority)==null?void 0:r.level)},null,8,["value","severity"])])])]),s("div",Es,[e[55]||(e[55]=s("h4",null,"License Information",-1)),s("div",ws,[s("div",Ds,[e[45]||(e[45]=s("label",null,"Original License",-1)),s("span",null,o(d.value.originalConcludedLicense||"Unknown"),1)]),e[48]||(e[48]=s("i",{class:"pi pi-arrow-right"},null,-1)),s("div",As,[e[46]||(e[46]=s("label",null,"AI Suggested",-1)),s("span",null,o(((f=d.value.aiSuggestion)==null?void 0:f.suggestedLicense)||"None"),1),(k=d.value.aiSuggestion)!=null&&k.confidence?(u(),v("span",{key:0,class:G(["confidence-badge",ee(d.value.aiSuggestion.confidence)])},o(d.value.aiSuggestion.confidence),3)):y("",!0)]),e[49]||(e[49]=s("i",{class:"pi pi-arrow-right"},null,-1)),s("div",Ss,[e[47]||(e[47]=s("label",null,"SPDX Suggested",-1)),s("span",null,o(((D=d.value.spdxLicense)==null?void 0:D.licenseId)||"None"),1),d.value.spdxLicense?(u(),v("span",{key:0,class:G(["spdx-badge",se(d.value.spdxValidated)])},o(d.value.spdxValidated?"✓ Valid":"⚠ Invalid"),3)):y("",!0)])]),(le=d.value.aiSuggestion)!=null&&le.reasoning?(u(),v("div",xs,[e[50]||(e[50]=s("label",null,"AI Reasoning",-1)),s("p",null,o(d.value.aiSuggestion.reasoning),1)])):y("",!0),d.value.spdxLicense?(u(),v("div",Ps,[e[54]||(e[54]=s("label",null,"SPDX Information",-1)),s("div",Vs,[s("p",null,[e[51]||(e[51]=s("strong",null,"License:",-1)),_(" "+o(d.value.spdxLicense.name),1)]),d.value.spdxLicense.isOsiApproved?(u(),v("p",_s,[...e[52]||(e[52]=[s("strong",null,"OSI Approved:",-1),_(" Yes",-1)])])):y("",!0),d.value.spdxLicense.isFsfLibre?(u(),v("p",Ls,[...e[53]||(e[53]=[s("strong",null,"FSF Libre:",-1),_(" Yes",-1)])])):y("",!0)])])):y("",!0)]),((te=t.value)==null?void 0:te.status)!=="APPROVED"?(u(),v("div",hs,[e[58]||(e[58]=s("h4",null,"Your Decision",-1)),s("div",Rs,[s("div",Ns,[n(a(g),{label:"Accept",severity:p.value==="ACCEPT"?"success":"secondary",outlined:p.value!=="ACCEPT",onClick:e[7]||(e[7]=V=>p.value="ACCEPT")},null,8,["severity","outlined"]),n(a(g),{label:"Reject",severity:p.value==="REJECT"?"danger":"secondary",outlined:p.value!=="REJECT",onClick:e[8]||(e[8]=V=>p.value="REJECT")},null,8,["severity","outlined"]),n(a(g),{label:"Modify",severity:p.value==="MODIFY"?"info":"secondary",outlined:p.value!=="MODIFY",onClick:e[9]||(e[9]=V=>p.value="MODIFY")},null,8,["severity","outlined"])]),p.value==="MODIFY"?(u(),v("div",Fs,[e[56]||(e[56]=s("label",null,"Custom License",-1)),n(a(z),{modelValue:U.value,"onUpdate:modelValue":e[10]||(e[10]=V=>U.value=V),placeholder:"Enter SPDX license ID...",class:"w-full"},null,8,["modelValue"])])):y("",!0),s("div",Os,[e[57]||(e[57]=s("label",null,"Comment (optional)",-1)),n(a(W),{modelValue:x.value,"onUpdate:modelValue":e[11]||(e[11]=V=>x.value=V),rows:"2",class:"w-full",placeholder:"Add a note about this decision..."},null,8,["modelValue"])])])])):(u(),v("div",Ms,[e[59]||(e[59]=s("h4",null,"Decision",-1)),s("div",Ts,[n(a($),{value:d.value.status,severity:H(d.value.status)},null,8,["value","severity"]),d.value.curatedLicense?(u(),v("span",$s,"License: "+o(d.value.curatedLicense),1)):y("",!0),d.value.curatorId?(u(),v("span",Us,"By: "+o(d.value.curatorId),1)):y("",!0),d.value.curatorComment?(u(),v("p",Gs,o(d.value.curatorComment),1)):y("",!0)])]))])):y("",!0)]}),_:1},8,["visible","header"]),n(a(X),{visible:O.value,"onUpdate:visible":e[18]||(e[18]=l=>O.value=l),header:"Bulk Action",modal:!0,style:{width:"500px"}},{footer:b(()=>[n(a(g),{label:"Cancel",severity:"secondary",onClick:e[17]||(e[17]=l=>O.value=!1)}),n(a(g),{label:"Apply",icon:"pi pi-check",severity:p.value==="ACCEPT"?"success":"danger",onClick:me,loading:w.value},null,8,["severity","loading"])]),default:b(()=>[s("div",js,[s("p",null,"Apply action to "+o(C.value.length)+" selected items:",1),s("div",Bs,[n(a(g),{label:"Accept All",severity:p.value==="ACCEPT"?"success":"secondary",outlined:p.value!=="ACCEPT",onClick:e[14]||(e[14]=l=>p.value="ACCEPT")},null,8,["severity","outlined"]),n(a(g),{label:"Reject All",severity:p.value==="REJECT"?"danger":"secondary",outlined:p.value!=="REJECT",onClick:e[15]||(e[15]=l=>p.value="REJECT")},null,8,["severity","outlined"])]),s("div",Hs,[e[60]||(e[60]=s("label",null,"Comment (optional)",-1)),n(a(W),{modelValue:x.value,"onUpdate:modelValue":e[16]||(e[16]=l=>x.value=l),rows:"2",class:"w-full",placeholder:"Add a note for all items..."},null,8,["modelValue"])])])]),_:1},8,["visible"]),n(a(X),{visible:M.value,"onUpdate:visible":e[22]||(e[22]=l=>M.value=l),header:"Approve Curation Session",modal:!0,style:{width:"500px"}},{footer:b(()=>[n(a(g),{label:"Cancel",severity:"secondary",onClick:e[21]||(e[21]=l=>M.value=!1)}),n(a(g),{label:"Approve Session",icon:"pi pi-check",severity:"success",onClick:ge,loading:w.value,disabled:!T.value},null,8,["loading","disabled"])]),default:b(()=>{var l,r,f,k;return[s("div",Ys,[e[67]||(e[67]=s("p",null,"You are about to approve this curation session. This action confirms that all license decisions have been reviewed and are correct.",-1)),s("div",Js,[s("div",zs,[e[61]||(e[61]=s("span",{class:"label"},"Total Items",-1)),s("span",Ws,o((l=t.value)==null?void 0:l.statistics.total),1)]),s("div",Xs,[e[62]||(e[62]=s("span",{class:"label"},"Accepted",-1)),s("span",qs,o((r=t.value)==null?void 0:r.statistics.accepted),1)]),s("div",Ks,[e[63]||(e[63]=s("span",{class:"label"},"Rejected",-1)),s("span",Qs,o((f=t.value)==null?void 0:f.statistics.rejected),1)]),s("div",Zs,[e[64]||(e[64]=s("span",{class:"label"},"Modified",-1)),s("span",el,o((k=t.value)==null?void 0:k.statistics.modified),1)])]),s("div",sl,[e[65]||(e[65]=s("label",null,"Your Name *",-1)),n(a(z),{modelValue:T.value,"onUpdate:modelValue":e[19]||(e[19]=D=>T.value=D),placeholder:"Enter your name...",class:"w-full"},null,8,["modelValue"])]),s("div",ll,[e[66]||(e[66]=s("label",null,"Comment (optional)",-1)),n(a(W),{modelValue:B.value,"onUpdate:modelValue":e[20]||(e[20]=D=>B.value=D),rows:"2",class:"w-full",placeholder:"Add approval notes..."},null,8,["modelValue"])])])]}),_:1},8,["visible"])])}}}),rl=Se(tl,[["__scopeId","data-v-a23a3dfc"]]);export{rl as default};
