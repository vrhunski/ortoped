import{d as g,o as h,c as l,a as e,r as u,e as d,F as m,f as _,h as y,n as S,t as n,i as w,j as k,u as b,R as L,k as o,_ as V}from"./index-x2f5C-rR.js";const x={class:"scans-page"},C={key:0,class:"loading"},D={key:1,class:"empty-state"},R={key:2,class:"section"},N={class:"data-table"},j=g({__name:"ScansView",setup(A){const i=u([]),r=u(!0),c=u(1),p=u(0);async function v(){r.value=!0;try{const a=await y.listScans({page:c.value,pageSize:20});i.value=a.data.scans,p.value=a.data.total}catch(a){console.error("Failed to fetch scans",a)}finally{r.value=!1}}function f(a){switch(a){case"complete":return"status-success";case"scanning":return"status-warning";case"failed":return"status-error";default:return"status-pending"}}return h(v),(a,s)=>(o(),l("div",x,[s[4]||(s[4]=e("header",{class:"page-header"},[e("h1",null,"Scans"),e("p",{class:"subtitle"},"View all license scans across projects")],-1)),r.value?(o(),l("div",C,[...s[0]||(s[0]=[e("i",{class:"pi pi-spin pi-spinner"},null,-1),d(" Loading scans... ",-1)])])):i.value.length===0?(o(),l("div",D,[...s[1]||(s[1]=[e("i",{class:"pi pi-search"},null,-1),e("h3",null,"No scans yet",-1),e("p",null,"Go to a project and run your first scan.",-1)])])):(o(),l("div",R,[e("table",N,[s[3]||(s[3]=e("thead",null,[e("tr",null,[e("th",null,"Status"),e("th",null,"Dependencies"),e("th",null,"Resolved"),e("th",null,"Unresolved"),e("th",null,"AI Resolved"),e("th",null,"Completed"),e("th")])],-1)),e("tbody",null,[(o(!0),l(m,null,_(i.value,t=>(o(),l("tr",{key:t.id},[e("td",null,[e("span",{class:S(["status-badge",f(t.status)])},n(t.status),3)]),e("td",null,n(t.totalDependencies),1),e("td",null,n(t.resolvedLicenses),1),e("td",null,n(t.unresolvedLicenses),1),e("td",null,n(t.aiResolvedLicenses),1),e("td",null,n(t.completedAt?new Date(t.completedAt).toLocaleString():"-"),1),e("td",null,[w(b(L),{to:`/scans/${t.id}`,class:"btn btn-small"},{default:k(()=>[...s[2]||(s[2]=[d(" View Details ",-1)])]),_:1},8,["to"])])]))),128))])])]))]))}}),F=V(j,[["__scopeId","data-v-ec9873c4"]]);export{F as default};
